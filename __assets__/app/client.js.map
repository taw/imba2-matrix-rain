{
  "version": 3,
  "sources": ["../node_modules/imba/src/imba/utils.imba", "../node_modules/imba/src/imba/scheduler.imba", "../node_modules/imba/src/imba/dom/flags.imba", "../node_modules/imba/src/imba/dom/context.imba", "../node_modules/imba/src/imba/dom/core.web.imba", "../node_modules/imba/src/imba/dom/fragment.imba", "../node_modules/imba/src/imba/dom/indexed-list.imba", "../node_modules/imba/src/imba/dom/component.imba", "../node_modules/imba/src/imba/dom/styles.imba", "../node_modules/imba/src/imba/dom/mount.imba", "client.imba"],
  "sourcesContent": ["const dashRegex = /-./g\n\nexport class LazyProxy\n\tstatic def for getter\n\t\tnew Proxy({}, new self(getter))\n\n\tdef constructor getter\n\t\tgetter = getter\n\t\n\tget target\n\t\tgetter!\n\n\tdef get _, key\n\t\ttarget[key]\n\t\n\tdef set _, key, value\n\t\ttarget[key] = value\n\t\treturn true\n\nexport def proxy getter, placeholder = {}\n\tnew Proxy(placeholder, new LazyProxy(getter))\n\nexport def parseTime value\n\tlet typ = typeof value\n\tif typ == 'number'\n\t\treturn value\n\n\tif typ == 'string'\n\t\tif (/^\\d+fps$/).test(value)\n\t\t\treturn 1000 / parseFloat(value)\n\t\telif (/^([-+]?[\\d\\.]+)s$/).test(value)\n\t\t\treturn parseFloat(value) * 1000\n\t\telif (/^([-+]?[\\d\\.]+)ms$/).test(value)\n\t\t\treturn parseFloat(value)\n\t# throw or return NaN?\n\treturn null\n\t\n\nexport def serializeData data\n\tlet map = new Map\n\tlet arr = []\n\tlet logging = no\n\tlet replacer = do(key,value)\n\t\tif value and value.#type and key !== ''\n\t\t\tlet ref = map.get(value) # value[sym] ||= \"$${nr++}$$\"\n\t\t\tunless map.has(value)\n\t\t\t\tmap.set(value,ref = \"$${arr.length}$$\")\n\t\t\t\tarr.push(value)\n\t\t\treturn key == null ? value : ref\n\t\tvalue\n\n\tlet json = JSON.stringify(data,replacer,2)\n\tlet i = 0\n\tlogging = yes\n\twhile i < arr.length\n\t\tarr[i] = JSON.stringify(arr[i],replacer,2)\n\t\ti++\n\n\tlet inject = \"\"\n\tfor item,i in arr\n\t\tinject += \"\\\"$${i}$$\\\":{item},\\n\"\n\tjson = '{' + inject + json.slice(1)\n\treturn json\n\t\n\nexport def deserializeData data, reviver = null\n\tlet objects = {}\n\tlet reg = /\\$\\$\\d+\\$\\$/\n\tlet lookup = do(value)\n\t\treturn objects[value] ||= reviver ? reviver(value) : {}\n\n\tlet parser = do(key,value)\n\t\tif typeof value == 'string'\n\t\t\tif value[0] == '$' and reg.test(value)\n\t\t\t\treturn lookup(value)\n\t\telif typeof key == 'string' and key[0] == '$' and reg.test(key)\n\t\t\tlet obj = lookup(key)\n\t\t\tObject.assign(obj,value)\n\t\t\treturn obj\n\n\t\treturn value\n\n\tlet parsed = JSON.parse(data,parser)\n\treturn parsed\n\nexport def patchManifest prev, curr\n\tlet origs = {}\n\tlet diff = {\n\t\tadded: []\n\t\tchanged: []\n\t\tremoved: []\n\t\tall: []\n\t\turls: {}\n\t}\n\n\tif prev.assets\n\t\tfor item in prev.assets\n\t\t\tlet ref = item.originalPath or item.path\n\t\t\torigs[ref] = item\n\t\t\tif item.url\n\t\t\t\t# add old urls to the new manifest\n\t\t\t\tcurr.urls[item.url] ||= item\n\t\n\tfor item in (curr.assets or [])\n\t\tlet ref = item.originalPath or item.path\n\t\tlet orig = origs[ref]\n\n\t\tif item.url and prev.urls\n\t\t\tprev.urls[item.url] = item\n\n\t\tif orig\n\t\t\tif orig.hash != item.hash\n\t\t\t\torig.invalidated = Date.now!\n\t\t\t\torig.replacedBy = item\n\t\t\t\titem.replaces = orig\n\t\t\t\tdiff.changed.push(item)\n\t\t\t\tdiff.all.push(item)\n\n\t\t\t\tif orig == prev.main\n\t\t\t\t\tdiff.main = item\n\n\t\t\tdelete origs[ref]\n\t\telse\n\t\t\tdiff.added.push(item)\n\t\t\tdiff.all.push(item)\n\n\t# these are the items that are no longer referencd\n\tfor own path,item of origs\n\t\titem.removed = Date.now!\n\t\tdiff.all.push(item)\n\n\tfor item in diff.all\n\t\tlet typ = diff[item.type] ||= []\n\t\ttyp.push(item)\n\n\tdiff.removed = Object.values(origs)\n\tcurr.changes = diff\n\treturn curr\n\nexport def toCamelCase str\n\tif str.indexOf('-') >= 0\n\t\tstr.replace(dashRegex) do $1.charAt(1).toUpperCase!\n\telse\n\t\tstr\n\nexport def getDeepPropertyDescriptor item, key, stop\n\t\n\tif !item\n\t\treturn undefined\n\n\tlet desc = Object.getOwnPropertyDescriptor(item,key)\n\n\tif desc or item == stop\n\t\treturn desc or undefined\n\t\t\n\tgetDeepPropertyDescriptor(Reflect.getPrototypeOf(item),key,stop)\n\n# Basic events - move to separate file?\nconst emit__ = do(event, args, node)\n\tlet prev\n\tlet cb\n\tlet ret\n\n\twhile (prev = node) and (node = node.next)\n\t\tif cb = node.listener\n\t\t\tif node.path and cb[node.path]\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]()\n\t\t\telse\n\t\t\t\t# check if it is a method?\n\t\t\t\tret = args ? cb.apply(node, args) : cb.call(node)\n\n\t\tif node.times && --node.times <= 0\n\t\t\tprev.next = node.next\n\t\t\tnode.listener = null\n\treturn\n\n# method for registering a listener on object\nexport def listen obj, event, listener, path\n\tlet cbs\n\tlet list\n\tlet tail\n\tcbs = obj.#__listeners__ ||= {}\n\tlist = cbs[event] ||= {}\n\ttail = list.tail || (list.tail = (list.next = {}))\n\ttail.listener = listener\n\ttail.path = path\n\tlist.tail = tail.next = {}\n\treturn tail\n\n# register a listener once\nexport def once obj, event, listener\n\tlet tail = listen(obj,event,listener)\n\ttail.times = 1\n\treturn tail\n\n# remove a listener\nexport def unlisten obj, event, cb, meth\n\tlet node\n\tlet prev\n\tlet meta = obj.#__listeners__\n\treturn unless meta\n\n\tif node = meta[event]\n\t\twhile (prev = node) and (node = node.next)\n\t\t\tif node == cb || node.listener == cb\n\t\t\t\tprev.next = node.next\n\t\t\t\t# check for correct path as well?\n\t\t\t\tnode.listener = null\n\t\t\t\tbreak\n\treturn\n\n# emit event\nexport def emit obj, event, params\n\tif let cb = obj.#__listeners__\n\t\temit__(event,params,cb[event]) if cb[event]\n\t\temit__(event,[event,params],cb.all) if cb.all\n\treturn", "# imba$imbaPath=global\nlet rAF = global.requestAnimationFrame || (do(blk) global.setTimeout(blk,1000 / 60))\nlet FPS = 60\nlet SPF = 1 / 60\n\t\t\n# Scheduler\nclass Scheduled\n\towner = null\n\ttarget = null\n\tactive = no\n\tvalue = undefined\n\tskip = 0\n\tlast = 0\n\n\tdef tick scheduler, source\n\t\tlast = owner.#frames\n\t\ttarget.tick(self, source)\n\t\t1\n\n\tdef update o, activate?\n\t\tlet on = active\n\t\tlet val = o.value\n\t\tlet changed = value != val\n\n\t\tif changed\n\t\t\tdeactivate!\n\t\t\tvalue = val\n\n\t\tif value or on or activate?\n\t\t\tactivate!\n\t\tself\n\n\tdef queue\n\t\towner.add(self)\n\t\treturn\n\n\tdef activate\n\t\tif value === yes\n\t\t\towner.on('commit',self)\n\t\telif value === no\n\t\t\tyes\n\t\telif typeof value == 'number'\n\t\t\t# duration\n\t\t\tlet tock = value / (1000 / 60)\n\t\t\tif tock <= 2\n\t\t\t\t# FIXME everything from 30 to 60 fps is treated as 60fps\n\t\t\t\towner.on('raf',self)\n\t\t\telse\n\t\t\t\t#interval = global.setInterval(queue.bind(self),value)\n\n\t\tactive = yes\n\t\tself\n\n\tdef deactivate\n\t\tif value === yes\n\t\t\towner.un('commit',self)\n\t\towner.un('raf',self)\n\n\t\tif #interval\n\t\t\tglobal.clearInterval(#interval)\n\t\t\t#interval = null\n\n\t\tactive = no\n\t\tself\n\nexport class Scheduler\n\tdef constructor\n\t\tid = Symbol!\n\t\tself.queue = []\n\t\tself.stage = -1\n\t\t#stage = -1\n\t\t#frames = 0\n\t\t#scheduled = no\n\t\t#version = 0\n\t\t\n\t\tself.listeners = {}\n\t\tself.intervals = {}\n\t\tself.commit = do\n\t\t\tadd('commit')\n\t\t\treturn self\n\n\t\t#fps = 0\n\n\t\t$promise = null\n\t\t$resolve = null\n\t\t#ticker = do(e)\n\t\t\t#scheduled = no\n\t\t\tself.tick(e)\n\t\tself\n\n\tdef touch\n\t\t#version++\n\n\tget version\n\t\t#version\n\n\tdef add item, force\n\t\tif force or self.queue.indexOf(item) == -1\n\t\t\tself.queue.push(item)\n\n\t\t#schedule! unless #scheduled\n\t\treturn self\n\t\n\tget committing?\n\t\tself.queue.indexOf('commit') >= 0\n\n\tget syncing?\n\t\t#stage == 1\n\n\tdef listen ns, item\n\t\tlet set = listeners[ns]\n\t\tlet first = !set\n\t\tset ||= listeners[ns] = new Set\n\t\tset.add(item)\n\n\t\tadd('raf') if ns == 'raf' and first\n\t\tself\t\n\n\tdef unlisten ns, item\n\t\tlet set = listeners[ns]\n\t\tset && set.delete(item)\n\t\tif ns == 'raf' and set and set.size == 0\n\t\t\tdelete listeners.raf\n\t\tself\n\n\tdef on ns,item\n\t\tlisten(ns,item)\n\n\tdef un ns,item\n\t\tunlisten(ns,item)\n\n\tget promise\n\t\t$promise ||= new Promise do(resolve)\n\t\t\t$resolve = resolve\n\n\tdef tick timestamp\n\t\tlet items = self.queue\n\t\tlet frame = #frames++\n\t\tself.ts = timestamp unless self.ts\n\t\tself.dt = timestamp - self.ts\n\t\tself.ts = timestamp\n\t\tself.queue = []\n\t\t#stage = 1\n\t\t#version++\n\n\t\t# calculate frames elapsed since last tick etc?\n\n\t\tif items.length\n\t\t\tfor item,i in items\n\t\t\t\tif typeof item === 'string' && listeners[item]\n\t\t\t\t\tlisteners[item].forEach do(listener)\n\t\t\t\t\t\tif listener.tick isa Function\n\t\t\t\t\t\t\tlistener.tick(self,item)\n\t\t\t\t\t\telif listener isa Function\n\t\t\t\t\t\t\tlistener(self,item)\n\t\t\t\telif item isa Function\n\t\t\t\t\titem(self.dt,self)\n\t\t\t\telif item.tick\n\t\t\t\t\titem.tick(self.dt,self)\n\n\t\t#stage = #scheduled ? 0 : -1\n\n\t\tif $promise\n\t\t\t$resolve(self)\n\t\t\t$promise = $resolve = null\n\n\t\tif listeners.raf and true\n\t\t\tadd('raf')\n\t\tself\n\n\tdef #schedule\n\t\tif !#scheduled\n\t\t\t#scheduled = yes\n\t\t\t#stage = 0 if #stage == -1\n\t\t\trAF(#ticker)\n\t\tself\n\n\tdef schedule item, o\n\t\to ||= (item[id] ||= {value: yes})\n\t\tlet state = o[id] ||= new Scheduled(owner: self, target: item)\n\t\tstate.update(o,yes)\n\n\tdef unschedule item, o = {}\n\t\to ||= item[id]\n\t\tlet state = o and o[id]\n\t\tif state and state.active\n\t\t\tstate.deactivate!\n\t\tself\n\nexport const scheduler = new Scheduler \n\nexport def commit\n\tscheduler.add('commit').promise\n\nexport def setTimeout fn,ms\n\tglobal.setTimeout(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport def setInterval fn,ms\n\tglobal.setInterval(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport const clearInterval = global.clearInterval\nexport const clearTimeout = global.clearTimeout\n\nlet instance = global.imba ||= {}\ninstance.commit = commit\ninstance.setTimeout = setTimeout\ninstance.setInterval = setInterval\ninstance.clearInterval = clearInterval\ninstance.clearTimeout = clearTimeout\n", "export class Flags\n\n\tdef constructor dom\n\t\tdom = dom\n\t\tstring = \"\"\n\n\tdef contains ref\n\t\treturn dom.classList.contains(ref)\n\n\tdef add ref\n\t\treturn self if contains(ref)\n\t\tstring += (string ? ' ' : '') + ref\n\t\tdom.classList.add(ref)\n\t\treturn self\n\n\tdef remove ref\n\t\treturn self unless contains(ref)\n\t\n\t\tlet regex = new RegExp('(^|\\\\s)' + ref + '(?=\\\\s|$)', 'g')\n\t\tstring = string.replace(regex, '')\n\t\tdom.classList.remove(ref)\n\t\treturn self\n\n\tdef toggle ref, bool\n\t\tbool = !contains(ref) if bool === undefined\n\t\tbool ? add(ref) : remove(ref)\n\t\t\n\tdef incr ref, duration = 0\n\t\tlet m = stacks\n\t\tlet c = m[ref] or 0\n\t\tadd(ref) if c < 1\n\n\t\tif duration > 0\n\t\t\tsetTimeout(&,duration) do decr(ref)\n\n\t\treturn m[ref] = Math.max(c,0) + 1\n\t\n\tdef decr ref\n\t\tlet m = stacks\n\t\tlet c = m[ref] or 0\n\t\tremove(ref) if c == 1\n\t\treturn m[ref] = Math.max(c,1) - 1\n\n\tdef reconcile sym, str\n\t\tlet syms = #symbols\n\t\tlet vals = #batches\n\t\tlet dirty = yes\n\t\tunless syms\n\t\t\tsyms = #symbols = [sym]\n\t\t\tvals = #batches = [str or '']\n\t\t\tself.toString = self.valueOf = self.#toStringDeopt\n\t\telse\n\t\t\tlet idx = syms.indexOf(sym)\n\t\t\tlet val = str or ''\n\t\t\tif idx == -1\n\t\t\t\tsyms.push(sym)\n\t\t\t\tvals.push(val)\n\t\t\telif vals[idx] != val\n\t\t\t\tvals[idx] = val\n\t\t\telse\n\t\t\t\tdirty = no\n\t\t\n\t\tif dirty\n\t\t\t#extras = ' ' + vals.join(' ')\n\t\t\tsync!\n\t\treturn\n\n\tdef valueOf\n\t\tstring\n\n\tdef toString\n\t\tstring\n\n\tdef #toStringDeopt\n\t\tstring + (#extras or '')\n\n\tdef sync\n\t\tdom.flagSync$!\n\n\tget stacks\n\t\t#stacks ||= {}", "\n\nexport const renderContext = {\n\tcontext: null\n\n}\n\nclass Renderer\n\n\tstack = []\n\n\tdef push el\n\t\tstack.push(el)\n\n\tdef pop el\n\t\tstack.pop!\n\nexport const renderer = new Renderer\n\nexport class RenderContext < Map\n\tdef constructor parent,sym = null\n\t\tsuper()\n\t\tself._ = parent\n\t\tself.sym = sym\n\n\tdef pop\n\t\trenderContext.context = null\n\t\n\tdef #getRenderContext sym\n\t\tlet out = self.get(sym)\n\t\tout || self.set(sym,out = new RenderContext(self._,sym))\n\t\treturn renderContext.context = out\n\n\t\t# createRenderContext(self,sym)\n\tdef #getDynamicContext sym, key\n\t\t#getRenderContext(sym).#getRenderContext(key)\n\n\tdef run value\n\t\tself.value = value\n\t\trenderContext.context = null if renderContext.context == self\n\t\treturn self.get(value)\n\n\tdef cache val\n\t\tself.set(self.value,val)\n\t\treturn val\n\nexport def createRenderContext cache,key = Symbol!,up = cache\n\treturn renderContext.context = cache[key] ||= new RenderContext(up,key)\n\nexport def getRenderContext\n\tlet ctx = renderContext.context\n\tlet res = ctx or new RenderContext(null)\n\tif global.DEBUG_IMBA\n\t\tif !ctx and renderer.stack.length > 0\n\t\t\tconsole.warn \"detected unmemoized nodes in\",renderer.stack,\"see https://imba.io\",res\n\n\trenderContext.context = null if ctx\n\treturn res\n\t# {map:new Map}", "# imba$stdlib=1\n\nimport {Flags} from './flags'\nimport {getDeepPropertyDescriptor} from '../utils'\nimport {RenderContext,createRenderContext} from './context'\n\nexport const {\n\tEvent,\n\tUIEvent,\n\tMouseEvent,\n\tPointerEvent,\n\tKeyboardEvent,\n\tCustomEvent,\n\tNode,\n\tComment,\n\tText,\n\tElement,\n\tHTMLElement,\n\tHTMLHtmlElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLTextAreaElement,\n\tHTMLButtonElement,\n\tHTMLOptionElement,\n\tHTMLScriptElement,\n\tSVGElement,\n\tDocumentFragment,\n\tShadowRoot,\n\tDocument,\n\tWindow,\n\tcustomElements\n} = global.window\n\n\nconst descriptorCache = {}\ndef getDescriptor item,key,cache\n\tif !item\n\t\treturn cache[key] = null\n\n\tif cache[key] !== undefined\n\t\treturn cache[key]\n\t\n\tlet desc = Object.getOwnPropertyDescriptor(item,key)\n\n\tif desc !== undefined or item == SVGElement\n\t\treturn cache[key] = desc or null\n\n\tgetDescriptor(Reflect.getPrototypeOf(item),key,cache)\n\n# export const document = global.window.document\nconst CustomTagConstructors = {}\nconst CustomTagToElementNames = {}\nexport const TYPES = {}\nexport const CUSTOM_TYPES = {}\nexport def get_document\n\tglobal.document\n\nexport def use_window\n\tyes\n\n\n\n# Basic node extensions\n\nconst contextHandler =\n\tdef get target, name\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tif ctx = ctx.#parent\n\t\t\t\tval = ctx[name]\n\t\treturn val\n\n\tdef set target, name, value\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tlet desc = getDeepPropertyDescriptor(ctx,name,Element)\n\t\t\tif desc\n\t\t\t\tctx[name] = value\n\t\t\t\treturn yes\n\t\t\telse \n\t\t\t\tctx = ctx.#parent\n\t\treturn yes\n\nextend class Document\n\tget flags\n\t\tself.documentElement.flags\n\n\nextend class Node\n\tget #parent\n\t\t##parent or this.parentNode or ##up # FIX\n\n\tget #closestNode\n\t\tself\n\n\tget #parentNode\n\t\t#parent.#closestNode\n\n\tget #context\n\t\t##context ||= new Proxy(self,contextHandler)\n\n\tdef #__init__\n\t\tself\n\n\tdef ##inited\n\t\tself\n\n\tdef #getRenderContext sym\n\t\tcreateRenderContext(self,sym)\n\n\tdef #getDynamicContext sym,key\n\t\t#getRenderContext(sym).#getRenderContext(key)\n\t\n\tdef #insertChild newnode, refnode\n\t\tnewnode.#insertInto(self,refnode)\n\t\n\tdef #appendChild newnode\n\t\tnewnode.#insertInto(self,null)\n\t\t\n\tdef #replaceChild newnode, oldnode\n\t\tlet res = #insertChild(newnode,oldnode)\n\t\t#removeChild(oldnode)\n\t\treturn res\n\t\t\n\tdef #removeChild node\n\t\tnode.#removeFrom(self)\n\n\t# can override if the element itself wants ot deal with this\n\tdef #insertInto parent, before = null\n\t\tif before\n\t\t\tparent.insertBefore(self,before)\n\t\telse\n\t\t\tparent.appendChild(self)\n\t\treturn self\n\t\t\n\tdef #insertIntoDeopt parent, before\n\t\t# log '#insertIntoDeopt',parent,before\n\t\tif before\n\t\t\tparent.insertBefore(#domNode or self,before)\n\t\telse\n\t\t\tparent.appendChild(#domNode or self)\n\t\treturn self\n\n\tdef #removeFrom parent\n\t\tparent.removeChild(self)\n\t\t\n\tdef #removeFromDeopt parent\n\t\tparent.removeChild(#domNode or self)\n\t\t\n\tdef #replaceWith other, parent\n\t\tparent.#replaceChild(other,self)\n\t\t\n\tdef #replaceWithDeopt other, parent\n\t\tparent.#replaceChild(other,#domNode or self)\n\n\tget #placeholderNode\n\t\t##placeholderNode ||= global.document.createComment(\"placeholder\")\n\n\tset #placeholderNode value\n\t\tlet prev = ##placeholderNode\n\t\t##placeholderNode = value\n\t\tif prev and prev != value and prev.parentNode\n\t\t\tprev.#replaceWith(value)\n\n\tdef #attachToParent\n\t\tlet ph = #domNode\n\t\tlet par = ph and ph.parentNode\n\t\tif ph and par and ph != self\n\t\t\t#domNode = null\n\t\t\t#insertInto(par,ph)\n\t\t\tph.#removeFrom(par)\n\t\tself\n\n\tdef #detachFromParent\n\t\tif #domDeopt =? yes\n\t\t\t#replaceWith = #replaceWithDeopt\n\t\t\t#removeFrom = #removeFromDeopt\n\t\t\t#insertInto = #insertIntoDeopt\n\n\t\tlet ph = #placeholderNode\n\t\tif parentNode and ph != self\n\t\t\tph.#insertInto(parentNode,self)\n\t\t\t#removeFrom(parentNode)\n\n\t\t#domNode = ph\n\t\t# self.#replaceWith(ph,parentNode)\n\t\tself\n\t\t\n\tdef #placeChild item, f, prev\n\t\t\n\t\tlet type = typeof item\n\t\t# console.log '#inserting!',item,f,prev,type\n\n\t\tif type === 'undefined' or item === null\n\t\t\t# what if the prev value was the same?\n\t\t\tif prev and prev isa Comment # check perf\n\t\t\t\treturn prev\n\n\t\t\tlet el = document.createComment('')\n\t\t\treturn prev ? prev.#replaceWith(el,self) : el.#insertInto(this,null)\n\n\t\t# dont reinsert again\n\t\tif item === prev\n\t\t\treturn item\n\n\t\t# what if this is null or undefined -- add comment and return? Or blank text node?\n\t\telif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\t\t\t\n\t\t\tif (f & $TAG_FIRST_CHILD$) && (f & $TAG_LAST_CHILD$) and false\n\t\t\t\t# FIXME what if the previous one was not text? Possibly dangerous\n\t\t\t\t# when we set this on a fragment - it essentially replaces the whole\n\t\t\t\t# fragment?\n\t\t\t\t# log 'set textcontent raw',txt,prev\n\t\t\t\tself.textContent = txt\n\t\t\t\treturn\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text # check perf\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = document.createTextNode(txt)\n\t\t\t\t\tprev.#replaceWith(res,self)\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\tself.appendChild(res = document.createTextNode(txt))\n\t\t\t\treturn res\t\n\n\t\telse\n\t\t\tif global.DEBUG_IMBA\n\t\t\t\tif !item.#insertInto\n\t\t\t\t\tconsole.warn(\"Tried to insert\",item,\"into\",this)\n\t\t\t\t\tthrow new TypeError(\"Only DOM Nodes can be inserted into DOM\")\n\n\t\t\treturn prev ? prev.#replaceWith(item,this) : item.#insertInto(this,null)\n\t\treturn\n\n# Basic element extensions\nextend class Element\n\t\n\tdef log ...params\n\t\tconsole.log(...params)\n\t\tself\n\n\tdef emit name, detail, o = {bubbles: true, cancelable: true}\n\t\to.detail = detail if detail != undefined\n\t\tlet event = new CustomEvent(name, o)\n\t\tlet res = self.dispatchEvent(event)\n\t\treturn event\n\n\t# inline in files or remove all together?\n\tdef text$ item\n\t\tself.textContent = item\n\t\tself\n\t\n\tdef #beforeReconcile\n\t\tself\n\t\t\n\tdef #afterReconcile\n\t\tself\n\t\t\n\tdef #afterVisit\n\t\tself.render! if self.render\n\t\treturn\n\n\tget flags\n\t\tunless $flags\n\t\t\t# unless deopted - we want to first cache the extflags\n\t\t\t$flags = new Flags(self)\n\t\t\tif flag$ == Element.prototype.flag$\n\t\t\t\tflags$ext = self.className\n\t\t\tflagDeopt$()\n\t\treturn $flags\n\n\tdef flag$ str\n\t\t# Potentially slow\n\t\tlet ns = flags$ns\n\t\tself.className = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\t\t\n\tdef flagDeopt$\n\t\tself.flag$ = self.flagExt$ # do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn\n\t\t\n\tdef flagExt$ str\n\t\tself.flagSync$(flags$ext = str)\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tflagDeopt$()\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\t\t\n\tdef set$ key,value\n\t\t# FIXME relatively slow\n\t\tlet desc = getDeepPropertyDescriptor(this,key,Element)\n\t\tif !desc or !desc.set\n\t\t\tsetAttribute(key,value)\n\t\telse\n\t\t\tself[key] = value\n\t\treturn\n\t\t\n\tget richValue\n\t\tvalue\n\n\tset richValue value\n\t\tself.value = value\n\n# Element.prototype.set$ = Element.prototype.setAttribute\nElement.prototype.setns$ = Element.prototype.setAttributeNS\nElement.prototype.#isRichElement = yes\n\nexport def createElement name, parent, flags, text\n\tlet el = document.createElement(name)\n\t\t\n\tel.className = flags if flags\n\n\tif text !== null\n\t\tel.text$(text)\n\n\tif parent and parent.#appendChild\n\t\tparent.#appendChild(el)\n\t\t# el.#insertInto(parent)\n\n\treturn el\n\n\n\n\nextend class SVGElement\n\n\tdef set$ key,value\n\t\tlet cache = descriptorCache[nodeName] ||= {}\n\t\tlet desc = getDescriptor(this,key,cache)\n\n\t\tif !desc or !desc.set\n\t\t\tsetAttribute(key,value)\n\t\telse\n\t\t\tself[key] = value\n\t\treturn\n\n\tdef flag$ str\n\t\tlet ns = flags$ns\n\t\tself.setAttribute('class',ns ? (ns + (flags$ext = str)) : (flags$ext = str))\n\t\treturn\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tself.flag$ = do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.setAttribute('class',(flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nextend class SVGSVGElement\n\n\tset src value\n\t\tif #src =? value\n\t\t\tif value\n\t\t\t\tif value.adoptNode\n\t\t\t\t\tvalue.adoptNode(self)\n\t\t\t\telif value.content\n\t\t\t\t\tfor own k,v of value.attributes\n\t\t\t\t\t\tsetAttribute(k,v)\n\t\t\t\t\tinnerHTML = value.content\n\t\treturn\n\n\t\t\n\nexport def createSVGElement name, parent, flags, text, ctx\n\tlet el = document.createElementNS(\"http://www.w3.org/2000/svg\",name)\n\n\tif flags\n\t\tel.className.baseVal = flags\n\n\tif parent and parent.#appendChild\n\t\tparent.#appendChild(el) # .#appendChild(parent)\n\n\tif text\n\t\tel.textContent = text\n\n\treturn el\n\nexport def createComment text\n\tdocument.createComment(text)\n\nexport def createTextNode text\n\tdocument.createTextNode(text)\n\t\nexport def createFragment\n\tdocument.createDocumentFragment!\n\n\nconst navigator = global.navigator\nconst vendor = navigator and navigator.vendor or ''\nconst ua = navigator and navigator.userAgent or ''\n\nconst isSafari = vendor.indexOf('Apple') > -1 || ua.indexOf('CriOS') >= 0 || ua.indexOf('FxiOS') >= 0\nconst supportsCustomizedBuiltInElements = !isSafari\nconst CustomDescriptorCache = new Map\n\nclass CustomHook < HTMLElement\n\tdef connectedCallback\n\t\tif supportsCustomizedBuiltInElements\n\t\t\tparentNode.removeChild(self)\n\t\telse\n\t\t\tparentNode.connectedCallback!\n\n\tdef disconnectedCallback\n\t\tif !supportsCustomizedBuiltInElements\n\t\t\tparentNode.disconnectedCallback!\n\nwindow.customElements.define('i-hook',CustomHook)\n\ndef getCustomDescriptors el, klass\n\tlet props = CustomDescriptorCache.get(klass)\n\n\tunless props\n\t\tprops = {}\n\t\tlet proto = klass.prototype\n\t\tlet protos = [proto]\n\t\twhile proto = (proto and Object.getPrototypeOf(proto))\n\t\t\tbreak if proto.constructor == el.constructor\n\t\t\tprotos.unshift(proto)\n\n\t\tfor item in protos\n\t\t\tlet desc = Object.getOwnPropertyDescriptors(item)\n\t\t\tObject.assign(props,desc)\n\t\tCustomDescriptorCache.set(klass,props)\n\n\treturn props\n\n# Registry\nexport def createComponent name, parent, flags, text, ctx\n\t# the component could have a different web-components name?\n\tlet el\n\t\n\tif typeof name != 'string'\n\t\tif name and name.nodeName\n\t\t\tname = name.nodeName\n\n\tlet cmpname = CustomTagToElementNames[name] or name\n\n\tif CustomTagConstructors[name]\n\t\tlet cls = CustomTagConstructors[name]\n\t\tlet typ = cls.prototype.#htmlNodeName\n\t\tif typ and supportsCustomizedBuiltInElements\n\t\t\tel = document.createElement(typ,is: name)\n\t\telif cls.create$ and typ\n\t\t\tel = document.createElement(typ)\n\t\t\tel.setAttribute('is',cmpname)\n\t\t\tlet props = getCustomDescriptors(el,cls)\n\t\t\tObject.defineProperties(el,props)\n\t\t\tel.__slots = {}\n\t\t\t# check if we need a hook though?\n\t\t\tel.appendChild(document.createElement('i-hook'))\n\t\telif cls.create$\n\t\t\tel = cls.create$(el)\n\t\t\tel.__slots = {}\n\t\telse\n\t\t\tconsole.warn \"could not create tag {name}\"\n\telse\n\t\tel = document.createElement(CustomTagToElementNames[name] or name)\n\n\tel.##parent = parent\n\tel.#__init__!\n\tel.##inited! # .inited(el) if el.#__hooks__\n\t\t\n\t# potentially \n\n\tif text !== null\n\t\tel.#getSlot('__').text$(text)\n\t\t\n\tif flags or el.flags$ns # or nsflag\n\t\tel.flag$(flags or '')\n\treturn el\n\nexport def createDynamic value, parent, flags, text\n\tif value == null or value == undefined\n\t\treturn createComment('')\n\telif value isa Node\n\t\t# check if node already exists somewhere else in dom\n\t\treturn value\n\telif value.#isRichElement\n\t\treturn value\n\n\telif typeof value == 'string' or (value and value.prototype isa Node)\n\t\treturn createComponent(value,parent,flags,text)\n\n\n\nexport def getTagType name, klass\n\t# TODO follow same structure as ssr TYPES\n\tif TYPES[name]\n\t\treturn TYPES[name]\n\n\tif window[klass]\n\t\treturn window[klass]\n\n\tif window[name]\n\t\treturn window[name]\n\nexport def getSuperTagType name, klass, cmp\n\tlet typ = getTagType(name,klass)\n\tlet custom = typ == cmp or typ.prototype isa cmp or typ.prototype.#htmlNodeName\n\t\n\tif !custom\n\t\tlet cls = typ.prototype.#ImbaElement\n\n\t\tif !cls\n\t\t\tcls = class CustomBuiltInElement < typ\n\t\t\t\tdef constructor\n\t\t\t\t\tsuper\n\t\t\t\t\t__slots = {}\n\t\t\t\t\t__F = 0\n\n\t\t\ttyp.prototype.#ImbaElement = cls\n\t\t\tlet descriptors = Object.getOwnPropertyDescriptors(cmp.prototype)\n\t\t\tObject.defineProperties(cls.prototype,descriptors)\n\t\t\tcls.prototype.#htmlNodeName = name\n\n\t\treturn cls\n\n\treturn typ\n\nexport def defineTag name, klass, options = {}\n\tTYPES[name] = CUSTOM_TYPES[name] = klass\n\n\tklass.nodeName = name\n\n\tlet componentName = name\n\tlet proto = klass.prototype\n\n\tif name.indexOf('-') == -1\n\t\tcomponentName = \"{name}-tag\"\n\t\tCustomTagToElementNames[name] = componentName\n\n\t# if options.cssns\n\tif options.cssns\n\t\tlet ns = (proto._ns_ || proto.#cssns || '') + ' ' + (options.cssns or '')\n\t\tproto._ns_ = ns.trim! + ' '\n\t\tproto.#cssns = options.cssns\n\n\tif options.cssid\n\t\tlet ids = (proto.flags$ns || '') + ' ' + options.cssid\n\t\tproto.#cssid = options.cssid\n\t\tproto.flags$ns = ids.trim! + ' '\n\n\n\tif proto.#htmlNodeName and !options.extends\n\t\toptions.extends = proto.#htmlNodeName\n\n\tif options.extends\n\t\tproto.#htmlNodeName = options.extends\n\t\tCustomTagConstructors[name] = klass\n\n\t\tif supportsCustomizedBuiltInElements\n\t\t\twindow.customElements.define(componentName,klass,extends: options.extends)\n\telse\n\t\twindow.customElements.define(componentName,klass)\n\n\treturn klass\n\t\nlet instance = global.imba ||= {}\ninstance.document = global.document\n", "import {Text,createComment,createTextNode,Comment,Node} from './core'\nimport {Flags} from './flags'\n\nexport def use_slots\n\tyes\n\n\nexport class Fragment\n\t\n\tdef constructor\n\t\tchildNodes = []\n\t\t\n\tdef log ...params\n\t\treturn\n\t\t\n\tdef hasChildNodes\n\t\tfalse\n\n\tset #parent value\n\t\t##parent = value\n\n\tget #parent\n\t\t##parent or ##up\n\n\tget #closestNode\n\t\t#parent.#closestNode\n\n\tget #isRichElement\n\t\tyes\n\n\tget flags\n\t\t##flags ||= new Flags(self)\n\n\tdef flagSync$\n\t\tself\n\n\tdef #afterVisit\n\t\tself\n\nlet counter = 0\n# like a list\nclass VirtualFragment < Fragment\n\tdef constructor flags, parent\n\t\tsuper\n\t\t##up = parent\n\t\tparentNode = null\n\t\t#domFlags = flags\n\t\tchildNodes = []\n\t\t#end = createComment('slot' + counter++)\n\t\t\n\t\tif parent\n\t\t\tparent.#appendChild(self)\n\n\tget #parent\n\t\t##parent or parentNode or ##up\n\t\n\tset textContent text\n\t\t#textContent = text\n\t\n\tget textContent\n\t\t#textContent\n\t\t\n\tdef hasChildNodes\n\t\tfor item in childNodes\n\t\t\tif item isa Fragment\n\t\t\t\treturn true if item.hasChildNodes!\n\t\t\tif item isa Comment\n\t\t\t\tyes\n\t\t\telif item isa Node\n\t\t\t\treturn true\n\n\t\t\t# unless item isa Comment\n\t\t\t#\treturn false\n\t\treturn false\n\t\t# #children.length == 0\n\t\t\n\tdef text$ item\n\t\tunless #textNode\n\t\t\t#textNode = #placeChild(item)\n\t\telse\n\t\t\t#textNode.textContent = item\n\t\treturn #textNode\n\t\t\n\tdef appendChild child\n\t\tif parentNode\n\t\t\tchild.#insertInto(parentNode,#end)\n\t\tchildNodes.push(child)\n\t\n\tdef #appendChild child\n\t\tif parentNode\n\t\t\tchild.#insertInto(parentNode,#end)\n\t\tchildNodes.push(child)\n\t\n\tdef insertBefore node,refnode\n\t\t# check if this should really happen?\n\t\tif parentNode\n\t\t\tparentNode.#insertChild(node,refnode)\n\t\tlet idx = childNodes.indexOf(refnode)\n\t\tif idx >= 0\n\t\t\tchildNodes.splice(idx,0,node)\n\t\treturn node\n\t\n\t\n\tdef #removeChild node\n\t\tif parentNode\n\t\t\tparentNode.#removeChild(node)\n\t\tlet idx = childNodes.indexOf(node)\n\t\tif idx >= 0\n\t\t\tchildNodes.splice(idx,1)\n\t\treturn\n\t\t\t\n\tdef #insertInto parent, before\n\t\t# console.log 'frag #insertInto',parent,before,#children\n\t\tlet prev = parentNode\n\n\t\tif parentNode =? parent\n\t\t\t# log '#insertInto',parent,prev,before,#end\n\t\t\t# what if before is a fragment etc?\n\t\t\tif #end\n\t\t\t\tbefore = #end.#insertInto(parent,before)\n\t\t\t# before = #end\n\t\t\tfor item in childNodes\n\t\t\t\titem.#insertInto(parent,before)\n\t\treturn self\n\t\t\n\tdef #replaceWith node, parent\n\t\t# log '#replaceWith',node,parent\n\t\t# what if this\n\t\t# log 'replaced with',node,parent\n\t\tlet res = node.#insertInto(parent,#end)\n\t\t#removeFrom(parent)\n\t\tres\n\t\n\tdef #insertChild node,refnode\n\t\tif parentNode\n\t\t\tinsertBefore(node,refnode or #end)\n\t\t\n\t\tif refnode\n\t\t\tlet idx = childNodes.indexOf(refnode)\n\t\t\t# console.log 'vfragment #insertChild',node,refnode,refnode == #end,idx,#children\n\t\t\tif idx >= 0\n\t\t\t\tchildNodes.splice(idx,0,node)\n\t\telse\n\t\t\tchildNodes.push(node)\n\t\treturn node\n\t\t\n\t\t\n\t\t# for item in #children\n\t\t# \titem.#removeFrom(parent)\n\t\n\tdef #removeFrom parent\n\t\tfor item in childNodes\n\t\t\t# log '#removeFrom',item,parent\n\t\t\titem.#removeFrom(parent)\n\t\t#end.#removeFrom(parent) if #end\n\t\tparentNode = null\n\t\tself\n\n\tdef #placeChild item, f, prev\n\t\tlet par = parentNode\n\t\tlet type = typeof item\n\t\t\n\t\tif type === 'undefined' or item === null\n\t\t\tif prev and prev isa Comment # check perf\n\t\t\t\treturn prev\n\t\t\t\n\t\t\tlet el = createComment('')\n\t\t\t\n\t\t\tif prev\n\t\t\t\tlet idx = childNodes.indexOf(prev)\n\t\t\t\tchildNodes.splice(idx,1,el)\n\t\t\t\tif par\n\t\t\t\t\tprev.#replaceWith(el,par)\n\t\t\t\t# parentNode.#insert(item,f,prev or #end)\n\t\t\t\treturn el\n\t\t\t\n\t\t\t\n\t\t\tchildNodes.push(el)\n\t\t\tel.#insertInto(par,#end) if par\n\t\t\treturn el\n\t\t\t# return prev ? prev.#replaceWith(el,self) : el.#insertInto(this,null)\n\n\t\tif item === prev\n\t\t\treturn item\n\t\t\t\n\t\tif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text # check perf\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = createTextNode(txt)\n\t\t\t\t\tlet idx = childNodes.indexOf(prev)\n\t\t\t\t\tchildNodes.splice(idx,1,res)\n\t\t\t\t\tprev.#replaceWith(res,par) if par\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\tchildNodes.push(res = createTextNode(txt))\n\t\t\t\t# self.appendChild$(res = createTextNode(txt))\n\t\t\t\tres.#insertInto(par,#end) if par\n\t\t\t\treturn res\n\n\t\telif prev\n\t\t\tlet idx = childNodes.indexOf(prev)\n\t\t\tchildNodes.splice(idx,1,item)\n\t\t\tprev.#replaceWith(item,par) if par\n\t\t\treturn item\n\t\telse\n\t\t\tchildNodes.push(item)\n\t\t\titem.#insertInto(par,#end) if par\n\t\t\treturn item\n\n\nexport def createLiveFragment bitflags, par\n\tconst el = new VirtualFragment(bitflags, par)\n\treturn el\n\t\nexport def createSlot bitflags, par\n\tconst el = new VirtualFragment(bitflags, null)\n\tel.##up = par\n\t# el.setup$(bitflags, options)\n\t# el.##up = par if par\n\treturn el\n\nextend class Node\n\tdef #registerFunctionalSlot name\n\t\tlet map = #functionalSlots ||= {}\n\t\tmap[name] ||= createSlot(0,self)\n\t\n\tdef #getFunctionalSlot name, context\n\t\tlet map = #functionalSlots\n\t\treturn map and map[name] or #getSlot(name,context)\n\n\tdef #getSlot name, context\n\t\tif name == '__' and !self.render\n\t\t\treturn self\n\t\t\n\t\treturn __slots[name] ||= createSlot(0,self)", "import {createComment} from './core'\nimport {Fragment} from './fragment'\n\nclass IndexedTagFragment < Fragment\n\n\tdef constructor f, parent\n\t\tsuper\n\t\t#domFlags = f\n\t\t##parent = parent\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t#end = createComment('list')\n\t\t\t# #end.node = self\n\t\t\t\n\t\tself.$ = childNodes\n\t\tself.length = 0\n\t\t\t\n\t\tif parent\n\t\t\tparent.#appendChild(self)\n\t\t\t\n\tdef hasChildNodes\n\t\treturn false if length == 0\n\t\treturn true\n\n\n\tdef #afterVisit len\n\t\tlet from = self.length\n\t\tself.length = len\n\n\t\treturn if from == len\n\t\tlet par = parentNode\n\t\treturn if !par\n\n\t\tlet array = self.childNodes\n\t\tlet end = #end\n\n\t\tif from > len\n\t\t\twhile from > len\n\t\t\t\tpar.#removeChild(array[--from])\n\t\telif len > from\n\t\t\twhile len > from\n\t\t\t\t# console.log 'inserting before now',array[from]\n\t\t\t\tpar.#insertChild(array[from++],end)\n\t\tself.length = len\n\t\treturn\n\t\t\n\tdef #insertInto parent, before\n\t\tparentNode = parent\n\t\t\n\t\t# if parent isa Node\n\t\t# FIXME need to work with non-dom elements as well\n\t\tif #end\n\t\t\t#end.#insertInto(parent,before)\n\t\t\t\n\t\tbefore = #end\n\n\t\tfor item,i in childNodes\n\t\t\tbreak if i == self.length\n\t\t\t# log 'insert child',parent,item,before\n\t\t\titem.#insertInto(parent,before)\n\t\t\t# log 'insert child',parent,item,before,parent.innerHTML\n\t\treturn self\n\t\t\n\tdef #appendChild item\n\t\t# this should be a noop\n\t\t# log 'list #appendChild',item\n\t\treturn\n\t\t\n\t\t\n\tdef #replaceWith rel, parent\n\t\tlet res = rel.#insertInto(parent,#end)\n\t\t#removeFrom(parent)\n\t\treturn res\n\t\n\tdef #removeFrom parent\n\t\t# log '#removeFrom',parent\n\t\tlet i = length\n\t\twhile i > 0\n\t\t\tlet el = childNodes[--i]\n\t\t\tel.#removeFrom(parent)\n\t\t\t# parent.#removeChild(el)\n\t\tparent.removeChild(#end) if #end\n\t\tparentNode = null\n\t\treturn\n\nexport def createIndexedList bitflags, parent\n\treturn new IndexedTagFragment(bitflags,parent)\n", "# imba$stdlib=1\n\nimport {Node,HTMLElement,CUSTOM_TYPES} from './core'\nimport {createLiveFragment,createSlot} from './fragment'\nimport {scheduler} from '../scheduler'\n\nimport {renderer} from './context'\nimport {emit} from '../utils'\n\nconst hydrator = new class\n\titems = []\n\tcurrent = null\n\tlastQueued = null\n\ttests = 0\n\n\tdef flush\n\t\tlet item = null\n\n\t\tif false\n\t\t\tconsole.log 'flush hydrate',items,tests\n\t\t\tfor item,i in items\n\t\t\t\tlet next = items[i + 1]\n\t\t\t\tif next\n\t\t\t\t\tunless next.compareDocumentPosition(item) & Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t\t\tconsole.log \"WRONG ORDER!!!\",item,next,next.compareDocumentPosition(item)\n\n\t\twhile item = items.shift!\n\t\t\tcontinue if !item.parentNode or item.hydrated?\n\t\t\t# Mark as inited to stop connectedCallback from early exit\n\t\t\tlet prev = current\n\t\t\tcurrent = item\n\t\t\titem.__F |= $EL_SSR$\n\t\t\titem.connectedCallback!\n\t\t\tcurrent = prev\n\t\treturn\n\n\tdef queue item\n\t\t# let len = items.push(item)\n\t\tlet len = items.length\n\t\tlet idx = 0\n\t\tlet prev = lastQueued\n\t\tlastQueued = item\n\n\t\tlet BEFORE = Node.DOCUMENT_POSITION_PRECEDING\n\t\tlet AFTER = Node.DOCUMENT_POSITION_FOLLOWING\n\n\t\tif len\n\t\t\tlet prevIndex = items.indexOf(prev)\n\t\t\tlet index = prevIndex\n\n\t\t\tlet compare = do(a,b)\n\t\t\t\ttests++\n\t\t\t\ta.compareDocumentPosition(b)\n\n\t\t\tif prevIndex == -1 or prev.nodeName != item.nodeName\n\t\t\t\tindex = prevIndex = 0\n\n\t\t\tlet curr = items[index]\n\n\t\t\twhile curr and compare(curr,item) & AFTER\n\t\t\t\tcurr = items[++index]\n\n\t\t\tif index != prevIndex\n\t\t\t\tcurr ? items.splice(index,0,item) : items.push(item)\n\t\t\telse\n\t\t\t\twhile curr and compare(curr,item) & BEFORE\n\t\t\t\t\tcurr = items[--index]\n\t\t\t\tif index != prevIndex\n\t\t\t\t\tcurr ? items.splice(index + 1,0,item) : items.unshift(item)\n\t\telse\n\t\t\titems.push(item)\n\t\t\tglobal.queueMicrotask(flush.bind(self)) if !current\n\n\t\treturn\n\n\tdef run item\n\t\treturn if active\n\t\t# look for parents that are still hydrated\n\t\t# only the ssr elements that are not yet awakened\n\t\tactive = yes\n\t\t# let all = global.document.getElementsByClassName('__ssr')\n\t\tlet all = global.document.querySelectorAll('.__ssr')\n\t\tconsole.log 'running hydrator',item,all.length,Array.from(all)\n\n\t\tfor item in all\n\t\t\titem.#count ||= 1\n\t\t\titem.#count++\n\t\t\tlet name = item.nodeName\n\t\t\tlet typ = map[name] ||= global.window.customElements.get(name.toLowerCase!) or HTMLElement\n\t\t\tconsole.log 'item type',name,typ,!!CUSTOM_TYPES[name.toLowerCase!]\n\t\t\t# console.log 'hydrate??',item.constructor\n\t\t\tcontinue if !item.connectedCallback or !item.parentNode or item.hydrated?\n\t\t\tconsole.log 'hydrate',item # !!item.parentNode,item,item.connectedCallback\n\t\t\t# item.connectedCallback!\n\n\t\tactive = no\n\nexport def hydrate\n\thydrator.flush!\n\nexport class Component < HTMLElement\n\tdef constructor\n\t\tsuper()\n\t\tif flags$ns\n\t\t\t# explain?\n\t\t\tflag$ = flagExt$\n\n\t\tsetup$()\n\t\tbuild()\n\n\tdef setup$\n\t\t__slots = {}\n\t\t__F = 0\n\n\tdef #__init__\n\t\t__F |= ($EL_INITED$ | $EL_HYDRATED$)\n\t\tself\n\n\tdef ##inited\n\t\t#__hooks__.inited(self) if #__hooks__\n\t\t\n\tdef flag$ str\n\n\t\tself.className = flags$ext = str\n\t\treturn\n\n\t# called immediately after construction \n\tdef build\n\t\tself\n\n\t# called before the first mount\n\tdef awaken\n\t\tself\n\t\n\t# called when element is attached to document\n\tdef mount\n\t\tself\n\t\n\t# called when element is detached from document\n\tdef unmount\n\t\tself\n\n\t# called after render\n\tdef rendered\n\t\tself\n\n\t# called before element is stringified on server (SSR)\n\tdef dehydrate\n\t\tself\n\n\t# called before awaken if element was not initially created via imba - on the client\n\tdef hydrate\n\t\t# should only autoschedule if we are not awakening inside a parent context that\n\t\tautoschedule = yes\n\t\tself\n\n\tdef tick\n\t\tcommit()\n\n\t# called when component is (re-)rendered from its parent\n\tdef visit\n\t\tcommit()\n\n\t# Wrapper for rendering. Default implementation\n\tdef commit\n\t\tunless render?\n\t\t\t__F |= $EL_UNRENDERED$\n\t\t\treturn self\n\t\t__F |= $EL_RENDERING$ \n\t\trender && render()\n\t\trendered()\n\t\t__F = (__F | $EL_RENDERED$) & ~$EL_RENDERING$ & ~$EL_UNRENDERED$\n\n\tget autoschedule\n\t\t(__F & $EL_SCHEDULE$) != 0\n\t\n\tset autoschedule value\n\t\tvalue ? (__F |= $EL_SCHEDULE$) : (__F &= ~$EL_SCHEDULE$)\n\n\t###\n\tNaming and accepted values will likely change - experimental\n\n\tyes = render on events / imba.commit\n\tno = force manual render\n\tnull / undefined = render via parent\n\t(n)s = render every n s\n\t(n)ms = render every n ms\n\t(n)fps = render n times per second\n\t###\n\tset autorender value\n\t\tlet o = #autorender ||= {}\n\t\to.value = value\n\t\tscheduler.schedule(self,o) if mounted?\n\t\treturn\n\n\tget render?\n\t\treturn !suspended?\n\n\tget mounting?\n\t\treturn (__F & $EL_MOUNTING$) != 0\n\n\tget mounted?\n\t\treturn (__F & $EL_MOUNTED$) != 0\n\t\n\tget awakened?\n\t\treturn (__F & $EL_AWAKENED$) != 0\n\t\n\tget rendered?\n\t\treturn (__F & $EL_RENDERED$) != 0\n\n\tget suspended?\n\t\treturn (__F & $EL_SUSPENDED$) != 0\n\n\tget rendering?\n\t\treturn (__F & $EL_RENDERING$) != 0\n\t\n\tget scheduled?\n\t\treturn (__F & $EL_SCHEDULED$) != 0\n\n\tget hydrated?\n\t\treturn (__F & $EL_HYDRATED$) != 0\n\n\tget ssr?\n\t\treturn (__F & $EL_SSR$) != 0\n\n\tdef schedule\n\t\tscheduler.on('commit',self)\n\t\t__F |= $EL_SCHEDULED$\n\t\treturn self\n\n\tdef unschedule\n\t\tscheduler.un('commit',self)\n\t\t__F &= ~$EL_SCHEDULED$\n\t\treturn self\n\n\tdef suspend cb = null\n\t\tlet val = flags.incr('_suspended_')\n\t\t__F |= $EL_SUSPENDED$\n\t\tif cb isa Function\n\t\t\tawait cb()\n\t\t\tunsuspend!\n\t\tself\n\n\tdef unsuspend\n\t\tlet val = flags.decr('_suspended_')\n\t\tif val == 0\n\t\t\t__F &= ~$EL_SUSPENDED$\n\t\t\tcommit! if $EL_UNRENDERED$\n\n\t\tself\n\t\t\n\tdef #afterVisit\n\t\tvisit()\n\n\tdef #beforeReconcile\n\t\tif __F & $EL_SSR$\n\t\t\t__F = __F & ~$EL_SSR$\n\t\t\t# remove flag\n\t\t\t# not if ssr?!\n\t\t\tclassList.remove('_ssr_')\n\t\t\tif flags$ext and flags$ext.indexOf('_ssr_') == 0\n\t\t\t\tflags$ext = flags$ext.slice(5)\n\t\t\t# TODO document this behaviour\n\t\t\tinnerHTML = '' unless __F & $EL_RENDERED$\n\n\t\tif global.DEBUG_IMBA\n\t\t\trenderer.push(self)\n\t\tself\n\n\tdef #afterReconcile\n\t\tif global.DEBUG_IMBA\n\t\t\trenderer.pop(self)\n\t\tself\n\n\n\tdef connectedCallback\n\t\tlet flags = __F\n\t\tlet inited = flags & $EL_INITED$\n\t\tlet awakened = flags & $EL_AWAKENED$\n\n\t\tif !inited and !(flags & $EL_SSR$)\n\t\t\thydrator.queue(self)\n\t\t\treturn\n\n\t\t# return if we are already in the process of mounting - or have mounted\n\t\tif flags & ($EL_MOUNTING$ | $EL_MOUNTED$)\n\t\t\treturn\n\t\t\n\t\t__F |= $EL_MOUNTING$\n\n\t\tunless inited\n\t\t\t#__init__!\n\n\t\tunless flags & $EL_HYDRATED$\n\t\t\t# clearly seems wrong?\n\t\t\tflags$ext = className\n\t\t\t__F |= $EL_HYDRATED$\n\t\t\tself.hydrate()\n\t\t\tcommit()\n\n\t\tunless awakened\n\t\t\tawaken()\n\t\t\t__F |= $EL_AWAKENED$\n\n\t\temit(self,'mount')\n\t\tlet res = mount()\n\t\tif res && res.then isa Function\n\t\t\tres.then(scheduler.commit)\n\n\t\tflags = __F = (__F | $EL_MOUNTED$) & ~$EL_MOUNTING$\n\t\t\n\t\tif flags & $EL_SCHEDULE$\n\t\t\tschedule()\n\t\t\n\t\t\n\t\tscheduler.schedule(self,#autorender) if #autorender\n\t\treturn this\n\n\tdef disconnectedCallback\n\t\t__F = __F & (~$EL_MOUNTED$ & ~$EL_MOUNTING$)\n\t\tif __F & $EL_SCHEDULED$\n\t\t\t# trigger potential unschedule listeners\n\t\t\tunschedule()\n\t\temit(self,'unmount')\n\t\tunmount()\n\t\tscheduler.unschedule(self,#autorender) if #autorender\n\n# Backwards compatibility\nexport const ImbaElement = Component", "import {Element} from './core'\n\n# imba$imbaPath=global\nconst VALID_CSS_UNITS = {\n\tcm:1\n\tmm:1\n\tQ:1\n\tpc:1\n\tpt:1\n\tpx:1\n\tem:1\n\tex:1\n\tch:1\n\trem:1\n\tvw:1\n\tvh:1\n\tvmin:1\n\tvmax:1\n\ts:1\n\tms:1\n\tfr:1\n\t'%':1\n\t'in':1\n\tturn:1\n\tgrad:1\n\trad:1\n\tdeg:1\n\tHz:1\n\tkHz:1\n}\n\nconst CSS_DEFAULT_UNITS = {\n\tx:'px'\n\ty:'px'\n\tz:'px'\n\trotate:'turn'\n}\n\nconst CSS_STR_PROPS = {\n\tprefix:1\n\tsuffix:1\n\tcontent:1\n}\n\n# hsl map of colors for runtime css coloring\nconst CSS_COLORS = {\n\trose:      [[356,100,97],[356,100,95],[353,96,90],[353,96,82],[351,95,71],[350,89,60],[347,77,50],[345,83,41],[343,80,35],[342,75,30]]\n\tpink:      [[327,73,97],[326,78,95],[326,85,90],[327,87,82],[329,86,70],[330,81,60],[333,71,51],[335,78,42],[336,74,35],[336,69,30]]\n\tfuchsia:   [[289,100,98],[287,100,95],[288,96,91],[291,93,83],[292,91,73],[292,84,61],[293,69,49],[295,72,40],[295,70,33],[297,64,28]]\n\tpurple:    [[270,100,98],[269,100,95],[269,100,92],[269,97,85],[270,95,75],[271,91,65],[271,81,56],[272,72,47],[273,67,39],[274,66,32]]\n\tviolet:    [[250,100,98],[251,91,95],[251,95,92],[252,95,85],[255,92,76],[258,90,66],[262,83,58],[263,70,50],[263,69,42],[264,67,35]]\n\tindigo:    [[226,100,97],[226,100,94],[228,96,89],[230,94,82],[234,89,74],[239,84,67],[243,75,59],[245,58,51],[244,55,41],[242,47,34]]\n\tblue:      [[214,100,97],[214,95,93],[213,97,87],[212,96,78],[213,94,68],[217,91,60],[221,83,53],[224,76,48],[226,71,40],[224,64,33]]\n\tsky: [[204,100,97],[204,94,94],[201,94,86],[199,95,74],[198,93,60],[199,89,48],[200,98,39],[201,96,32],[201,90,27],[202,80,24]]\n\tcyan:      [[183,100,96],[185,96,90],[186,94,82],[187,92,69],[188,86,53],[189,94,43],[192,91,36],[193,82,31],[194,70,27],[196,64,24]]\n\tteal:      [[166,76,97],[167,85,89],[168,84,78],[171,77,64],[172,66,50],[173,80,40],[175,84,32],[175,77,26],[176,69,22],[176,61,19]]\n\temerald:   [[152,81,96],[149,80,90],[152,76,80],[156,72,67],[158,64,52],[160,84,39],[161,94,30],[163,94,24],[163,88,20],[164,86,16]]\n\tgreen:     [[138,76,97],[141,84,93],[141,79,85],[142,77,73],[142,69,58],[142,71,45],[142,76,36],[142,72,29],[143,64,24],[144,61,20]]\n\tlime:      [[78,92,95],[80,89,89],[81,88,80],[82,85,67],[83,78,55],[84,81,44],[85,85,35],[86,78,27],[86,69,23],[88,61,20]]\n\tyellow:    [[55,92,95],[55,97,88],[53,98,77],[50,98,64],[48,96,53],[45,93,47],[41,96,40],[35,92,33],[32,81,29],[28,73,26]]\n\tamber:     [[48,100,96],[48,96,89],[48,97,77],[46,97,65],[43,96,56],[38,92,50],[32,95,44],[26,90,37],[23,83,31],[22,78,26]]\n\torange:    [[33,100,96],[34,100,92],[32,98,83],[31,97,72],[27,96,61],[25,95,53],[21,90,48],[17,88,40],[15,79,34],[15,75,28]]\n\tred:       [[0,86,97],[0,93,94],[0,96,89],[0,94,82],[0,91,71],[0,84,60],[0,72,51],[0,74,42],[0,70,35],[0,63,31]]\n\twarmer:  [[60,9,98],[60,5,96],[20,6,90],[24,6,83],[24,5,64],[25,5,45],[33,5,32],[30,6,25],[12,6,15],[24,10,10]]\n\twarm:  [[0,0,98],[0,0,96],[0,0,90],[0,0,83],[0,0,64],[0,0,45],[0,0,32],[0,0,25],[0,0,15],[0,0,9]]\n\tgray:      [[0,0,98],[240,5,96],[240,6,90],[240,5,84],[240,5,65],[240,4,46],[240,5,34],[240,5,26],[240,4,16],[240,6,10]]\n\tcool:  [[210,20,98],[220,14,96],[220,13,91],[216,12,84],[218,11,65],[220,9,46],[215,14,34],[217,19,27],[215,28,17],[221,39,11]]\n\tcooler:  [[210,40,98],[210,40,96],[214,32,91],[213,27,84],[215,20,65],[215,16,47],[215,19,35],[215,25,27],[217,33,17],[222,47,11]]\n\t\n}\n\nconst CSS_COLORS_REGEX = new RegExp(\"^({Object.keys(CSS_COLORS).join('|')})(\\\\d+(?:\\\\.\\\\d+)?)$\")\n\nconst CSS_PX_PROPS = /^([xyz])$/\nconst CSS_DIM_PROPS = /^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/\n\nconst resets = '''*,::before,::after {\n\tbox-sizing: border-box;\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: currentColor;\n}'''\n\nclass Styles\n\tentries = {}\n\n\tdef register id, styles\n\t\tlet entry = entries[id]\n\n\t\tif !entry\n\t\t\tentry = entries[id] = {sourceId: id, css: styles}\n\n\t\t\tif !entries.resets\n\t\t\t\tregister('resets',resets)\n\n\t\t\tif $web$\n\t\t\t\tentry.node = document.createElement('style')\n\t\t\t\tentry.node.setAttribute('data-id',id)\n\t\t\t\tentry.node.textContent = entry.css\n\t\t\t\tdocument.head.appendChild(entry.node)\n\n\t\telif entry\n\t\t\t# if it was already registered - we update the content\n\t\t\t# and on the web \u2013 replace the actual styles\n\t\t\tentry.css = styles\n\t\t\tif entry.node\n\t\t\t\tentry.node.textContent = styles\n\t\treturn\n\n\tdef toString\n\t\tObject.values(entries).map(do $1.css).join('\\n\\n')\n\n\tdef toValue value, unit, key, param = null\n\t\tif CSS_STR_PROPS[key]\n\t\t\tvalue = String(value)\n\n\t\tlet typ = typeof value\n\t\t\t\n\t\tif typ == 'number'\n\t\t\tif !unit\n\t\t\t\tif CSS_PX_PROPS.test(key)\n\t\t\t\t\tunit = 'px'\n\t\t\t\telif CSS_DIM_PROPS.test(key)\n\t\t\t\t\tunit = 'u'\n\t\t\t\telif key == 'rotate'\n\t\t\t\t\tunit = 'turn'\n\t\t\t\t\tvalue = (value % 1).toFixed(4)\n\n\t\t\tif unit\n\t\t\t\tif VALID_CSS_UNITS[unit]\n\t\t\t\t\t# what if the unit is already set?\n\t\t\t\t\treturn value + unit\n\t\t\t\telif unit == 'u'\n\t\t\t\t\treturn value * 4 + 'px'\n\t\t\t\telse\n\t\t\t\t\treturn \"calc(var(--u_{unit},1px) * {value})\"\n\t\t\telse\n\t\t\t\tyes\t\n\t\t\t\n\t\telif typ == 'string'\n\t\t\tif key and CSS_STR_PROPS[key] and value[0] != '\"' and value[0] != \"'\"\n\t\t\t\tif value.indexOf('\"') >= 0\n\t\t\t\t\tif value.indexOf(\"'\") == -1\n\t\t\t\t\t\tvalue = \"'\" + value + \"'\"\n\t\t\t\t\telse\n\t\t\t\t\t\tno # do something here\n\t\t\t\telse\n\t\t\t\t\tvalue = '\"' + value + '\"'\n\n\t\t\tif let colormatch = value.match(CSS_COLORS_REGEX)\n\t\t\t\tlet color = CSS_COLORS[colormatch[1]]\n\t\t\t\tlet level = color[parseInt(colormatch[2])]\n\t\t\t\tlet a = '100%'\n\t\t\t\tif typeof param == 'number'\n\t\t\t\t\ta = param + '%'\n\t\t\t\telif typeof param == 'string'\n\t\t\t\t\ta = param\n\t\t\t\tif level\n\t\t\t\t\treturn \"hsla({level[0]},{level[1]}%,{level[2]}%,{a})\"\n\n\t\telif value and value.toStyleString isa Function\n\t\t\treturn value.toStyleString!\n\t\treturn value\n\t\t\n\tdef parseDimension val\n\t\tif typeof val == 'string'\n\t\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/)\n\t\t\treturn [parseFloat(num),unit]\n\t\telif typeof val == 'number'\n\t\t\treturn [val]\n\nexport const styles = new Styles\nexport const colors = Object.keys(CSS_COLORS)\n\nexport def use_styles\n\tyes\n\nextend class Element\n\tdef css$ key, value, mods\n\t\tself.style[key] = value\n\t\t\n\tdef css$var name, value, unit, key, param = null\n\t\tlet cssval = styles.toValue(value,unit,key,param)\n\t\tself.style.setProperty(name,cssval)\n\t\treturn\n\n", "import {renderContext,RenderContext} from './context'\nimport {scheduler} from '../scheduler'\n\nexport def render blk, ctx = {}\n\tlet prev = renderContext.context\n\trenderContext.context = ctx\n\tlet res = blk(ctx)\n\tif renderContext.context == ctx\n\t\trenderContext.context = prev\n\treturn res\n\nexport def mount mountable, into\n\tif $node$\n\t\tconsole.warn \"imba.mount not supported on server\"\n\t\t# if mountable isa Function\t\n\t\t# console.log String(mountable)\n\t\treturn String(mountable)\n\n\tlet parent = into or global.document.body\n\tlet element = mountable\n\tif mountable isa Function\n\t\tlet ctx = new RenderContext(parent,null)\n\t\tlet tick = do\n\t\t\tlet prev = renderContext.context\n\t\t\trenderContext.context = ctx\n\t\t\tlet res = mountable(ctx)\n\t\t\tif renderContext.context == ctx\n\t\t\t\trenderContext.context = prev\n\t\t\treturn res\n\t\telement = tick()\n\t\t# TODO Allow unscheduling this?\n\t\tscheduler.listen('commit',tick)\n\telse\n\t\t# automatic scheduling of element\n\t\telement.__F |= $EL_SCHEDULE$\n\n\telement.#insertInto(parent)\n\treturn element\n\nexport def unmount el\n\tif el and el.#removeFrom\n\t\tel.#removeFrom(el.parentNode)\n\treturn el\n\t\t\nlet instance = global.imba ||= {}\ninstance.mount = mount\ninstance.unmount = unmount", "global css body\n\tbackground-color: black\n\toverflow: hidden\n\tmargin: 0\n\theight: 100vh\n\twidth: 100vw\n\ndef random_int(min, max)\n\tmin + Math.floor( Math.random() * (max - min + 1) )\n\ndef random_katakana\n\tString.fromCharCode(random_int(0x30A0, 0x30FF))\n\ndef random_symbols\n\tfor i in [0 .. random_int(5, 30)]\n\t\t{ v: random_katakana() }\n\ntag stream\n\tprop x\n\tprop y\n\tprop symbols\n\n\t<self[top:{y}px left:{x}px]>\n\t\tfor symbol, index in symbols\n\t\t\t<div.symbol>\n\t\t\t\tsymbol.v\n\n\tcss\n\t\tposition: absolute\n\t\tdisplay: flex\n\t\tflex-direction: column-reverse\n\n\t\t.symbol\n\t\t\theight: 20px\n\t\t\twidth: 20px\n\t\t\tline-height: 20px\n\t\t\tposition: relative\n\t\t\tfont-size: 16px\n\t\t\ttext-align: center\n\t\t\tcolor: #8f4\n\n\t\t\t&:first-child\n\t\t\t\tcolor: #dfa\n\ntag app\n\tdef setup\n\t\tstreams = []\n\t\tlet x = 10\n\t\twhile x + 30 < window.innerWidth\n\t\t\tstreams.push({\n\t\t\t\tx: x\n\t\t\t\ty: Math.random() * window.innerHeight\n\t\t\t\tspeed: 3 + Math.random() * 5\n\t\t\t\tsymbols: random_symbols()\n\t\t\t})\n\t\t\tx += 30\n\n\tdef mount\n\t\timba.setInterval(&, 10) do\n\t\t\tfor stream in streams\n\t\t\t\tstream.y += stream.speed\n\t\t\t\tif stream.y > window.innerHeight\n\t\t\t\t\tstream.symbols = random_symbols()\n\t\t\t\t\tstream.speed = 3 + Math.random() * 5\n\t\t\t\t\tstream.y = - stream.symbols.length * 20\n\t\t\t\tfor symbol in stream.symbols\n\t\t\t\t\tif Math.random() < 0.01\n\t\t\t\t\t\tsymbol.v = random_katakana()\n\n\t<self>\n\t\tfor stream in streams\n\t\t\t<stream x=stream.x y=stream.y symbols=stream.symbols>\n\n\tcss\n\t\theight: 100vh\n\t\twidth: 100vw\n\t\toverflow: hidden\n\nimba.mount <app>\n"],
  "mappings": "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,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KAC3H,KAAW,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KACjI,KAAW,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KAChI,QAAW,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KAChI,MAAW,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KAChI,KAAW,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG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",
  "names": []
}
